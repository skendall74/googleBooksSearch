(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{36:function(e,t,n){},37:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var o=n(1),i=n.n(o),a=n(29),c=n.n(a),s=(n(36),n(8)),r=n(9),l=n(11),h=n(10),d=(n(37),n(13)),u=n(2),b=n(12),j=n(0);var p=function(e){return Object(j.jsxs)("div",{id:"searchContainer",children:[Object(j.jsx)("h3",{children:"Book Search"}),Object(j.jsxs)("form",{id:"bookSearch",children:[Object(j.jsx)("label",{htmlFor:"bookInput",form:"bookSearch",children:"Search for a Book:"}),Object(j.jsx)("br",{}),Object(j.jsx)("input",{type:"text",name:"bookInput",id:"bookInput",form:"bookSearch",onChange:function(t){return e.handleChange(t)},placeholder:"Book Title",required:!0}),Object(j.jsx)("br",{}),Object(j.jsx)("button",{type:"submit",onClick:function(t){return e.handleSearchClick(t)},children:"Search"})]})]})},v=n(16),k=n.n(v),f=function(){return k.a.get("/api/books")},O=function(e){return k.a.get("/search/".concat(e))},m=function(e){return k.a.post("/api/books",e)},g=function(e){return k.a.delete("/api/books/".concat(e))},x=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var o;return Object(s.a)(this,n),(o=t.call(this,e)).handleSaveClick=function(e){this.setState({saved:!0});var t={title:this.props.title,authors:this.props.authors,link:this.props.link,img:this.props.img,description:this.props.description};e.preventDefault(),m(t).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},o.state={saved:!1,deleted:!1},o.handleSaveClick=o.handleSaveClick.bind(Object(b.a)(o)),o.handleDeleteClick=o.handleDeleteClick.bind(Object(b.a)(o)),o}return Object(r.a)(n,[{key:"handleDeleteClick",value:function(e){var t=this;this.setState({deleted:!0}),e.preventDefault(),g(this.props.id).then((function(e){console.log(e),d.a.dispatch(t.props.location,null)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return Object(j.jsxs)("div",{className:"bookResult",id:this.props.id?this.props.id:null,style:{display:this.state.deleted?"none":"block"},children:[Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"aboutBook",children:[Object(j.jsx)("h4",{children:this.props.title}),Object(j.jsxs)("p",{children:["By: ",this.props.authors?this.props.authors.join(", "):"N/A"]})]}),Object(j.jsxs)("div",{className:"btnDiv",children:[this.props.link?Object(j.jsx)("a",{href:this.props.link,target:"_blank",rel:"noopener noreferrer",children:Object(j.jsx)("button",{type:"button",name:"view",children:"View"})}):null,"/"===this.props.path?Object(j.jsx)("button",{type:"button",name:"save",onClick:this.handleSaveClick,disabled:this.state.saved,children:this.state.saved?"Saved":"Save"}):Object(j.jsx)("button",{type:"button",name:"Delete",onClick:this.handleDeleteClick,disabled:this.state.deleted,children:"Delete"})]})]}),Object(j.jsxs)("div",{className:"row",children:[this.props.img?Object(j.jsx)("img",{src:this.props.img.smallThumbnail?this.props.img.smallThumbnail:this.props.img.thumbnail?this.props.img.thumbnail:"",alt:"book cover"}):null,Object(j.jsx)("p",{children:this.props.description?this.props.description:"N/A"})]})]})}}]),n}(i.a.Component);var C=function(e){return"/"===e.path?Object(j.jsxs)("div",{id:"booksContainer",children:[Object(j.jsx)("h3",{children:"Books Found"}),e.bookData.map((function(t){var n=t.volumeInfo;return Object(j.jsx)(x,{title:n.title,authors:n.authors,description:n.description,link:n.canonicalVolumeLink,img:n.imageLinks,path:e.path},t.id)}))]}):"/saved"===e.path?e.savedBooks.length>0?Object(j.jsxs)("div",{id:"booksContainer",children:[Object(j.jsx)("h3",{children:"Saved Books"}),e.savedBooks.map((function(t){return Object(j.jsx)(x,{title:t.title,authors:t.authors,description:t.description,link:t.link,img:t.img,id:t._id,path:e.path},t._id)}))]}):Object(j.jsxs)("div",{id:"booksContainer",children:[Object(j.jsx)("h3",{children:"Saved Books"}),Object(j.jsx)("p",{children:"No saved books."})]}):void 0},S=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var o;return Object(s.a)(this,n),(o=t.call(this,e)).state={bookInput:"",bookData:[]},o.handleSearchClick=o.handleSearchClick.bind(Object(b.a)(o)),o.handleChange=o.handleChange.bind(Object(b.a)(o)),o}return Object(r.a)(n,[{key:"handleChange",value:function(e){e.preventDefault(),this.setState({bookInput:e.target.value})}},{key:"handleSearchClick",value:function(e){var t=this;e.preventDefault(),O(this.state.bookInput).then((function(e){t.setState({bookData:e.data}),t.setState({bookInput:""})}))}},{key:"render",value:function(){return Object(j.jsxs)("main",{children:[Object(j.jsx)(p,{handleChange:this.handleChange,handleSearchClick:this.handleSearchClick}),this.state.bookData.length>0?Object(j.jsx)(C,{bookData:this.state.bookData,path:this.props.match.path}):null]})}}]),n}(i.a.Component),w=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var o;return Object(s.a)(this,n),(o=t.call(this,e)).state={savedBooks:[]},o}return Object(r.a)(n,[{key:"componentWillMount",value:function(){var e=this;f().then((function(t){e.setState({savedBooks:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return console.log(this.state.savedBooks),Object(j.jsx)("main",{children:Object(j.jsx)(C,{savedBooks:this.state.savedBooks,path:this.props.match.path})})}}]),n}(i.a.Component);var y=function(){return Object(j.jsxs)("nav",{children:[Object(j.jsx)("h1",{children:"Google Books"}),Object(j.jsx)(d.b,{to:"/",children:"Search"}),Object(j.jsx)(d.b,{to:"/saved",children:"Saved"})]})},B=n.p+"static/media/library.1915106f.jpg",D={backgroundImage:"url(".concat(B,")"),maxWidth:"120vw",height:"calc(100vw * .33333)",backgroundSize:"cover",position:"relative"};var I=function(){return Object(j.jsxs)("header",{style:D,children:[Object(j.jsx)("h1",{children:"React Google Books Search"}),Object(j.jsx)("p",{children:"Search for and Save Books of Interest"})]})},N=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return Object(j.jsx)(d.a,{children:Object(j.jsxs)("div",{children:[Object(j.jsx)(y,{}),Object(j.jsx)(I,{}),Object(j.jsxs)(u.c,{children:[Object(j.jsx)(u.a,{exact:!0,path:"/",component:S}),Object(j.jsx)(u.a,{path:"/saved",component:w})]})]})})}}]),n}(o.Component),W=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function L(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(Object(j.jsx)(N,{}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");W?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):L(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):L(e)}))}}()}},[[62,1,2]]]);
//# sourceMappingURL=main.94c8475b.chunk.js.map